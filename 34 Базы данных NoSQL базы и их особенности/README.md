# Базý даннýх: NoSQL базý и их особенности

## От релāøионнýх СУБД к NoSQL СУБД

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/1.JPG)

### Интереснýе фактý о термине NoSQL

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/2.JPG)

### Сравнение SQL и NoSQL СУБД


| Описание | SQL | NoSQL |
| -------- | --- | ----- |
| CУБД | реляционная | не-реляционная или распределенная |
| Схема даннýх | Зафиксированная или статическая предопределенная | динамическая |
| Хранилище данных | БД не ориентирована на иерархическое, распределенное хранилище данных | БД ориентированы на иерархическое, распределенное хранилище данных |
| Масштабируемость | вертикальная | горизонтальная |
| Принципы построения | ACID | BASE |

### ACID принøипý в транзакøионной системе
● Atomicity - атомарностþ транзакøий
● Consistency - согласованностþ даннýх базý после заверúениā транзакøий
● Isolation - изолированностþ транзакøий
● Durability - долговеùностþ даннýх, независимо от внутренних или внеúних сбоев

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/3.JPG)

### BASE принøипý работý NoSQL СУБД
● **Basically available** - базоваā доступностþ - каждýй запрос гарантированно заверúаетсā (успеúно или безуспеúно)
● **Soft state** - гибкое состоāние - состоāние системý может менāтþсā с теùением времени, даже без ввода новýх даннýх
● **Eventually consistent** - даннýе могут бýтþ некоторое времā рассогласованý, но приходāт к согласованному состоāниĀ ùерез некоторое конеùное времā

### книги

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/4.JPG)

* Martin Fowler “NoSQL Distilled: A Brief Guide to the Emerging World of Polyglot Persistence”
* Eric Evans “Domain Driven Design”


### Паттерн “Агрегат” 

Совокупность взаимосвязанных объектов, которые мы воспринимаем как единое целое с точки зрения изменения данных, называется АГРЕГАТОМ (AGGREGATE). У каждого АГРЕГАТА есть корневой объект и есть граница. Граница определяет, что находится внутри АГРЕГАТА. Корневой объект - это один конкретный объект - СУЩНОСТЬ (ENTITY), содержащийся в АГРЕГАТЕ. Корневой объект - единственный член АГРЕГАТА, на который могут ссылаться внешние объекты, в то время как объекты, заключенные внутри границы, могут ссылаться друг на друга как угодно. СУЩНОСТИ, отличные от корневого объекта, локально индивидуальны, но различаться они должны только в пределах АГРЕГАТА, поскольку никакие внешние объекты все равно не могут их видеть вне контекста корневой СУЩНОСТИ

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/5.JPG)


### Паттерн “Агрегат”

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/6.JPG)

● Единаā суûностþ в доменной модели
● Поиск даннýх по клĀùу (возможно ùерез индекс)
● Единиøа хранениā даннýх
● Простота ORM

### CAP теорема Эрика БрĀера
Эвристиùеское утверждение о том, ùто в лĀбой реализаøии распределённýх вýùислений возможно обеспеùитþ не более двух из трёх следуĀûих свойств:
● согласованностþ даннýх (consistency) — во всех вýùислителþнýх узлах в один момент времени даннýе не противореùат друг другу
● доступностþ (availability) — лĀбой запрос к распределённой системе заверúаетсā корректнýм откликом, однако без гарантии, ùто ответý всех узлов системý совпадаĀт
● устойùивостþ к разделениĀ ( partition tolerance) — расûепление распределённой системý на несколþко изолированнýх секøий не приводит к некорректности отклика от каждой из секøий.

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/7.JPG)

### CAP теорема Эрика БрĀера

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/8.JPG)

### PACELC теорема - расúирение CAP теоремý

В слуùае разделениā сети (P) в распределенной компþĀтерной системе необходимо вýбиратþ между доступностþĀ (A) и согласованностþĀ (C) (согласно теореме CAP), но в лĀбом слуùае, даже если система работает нормалþно в отсутствии разделениā (E), нужно вýбиратþ между :
● задержками (Latency)
● согласованностþĀ (Consistency)

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/9.JPG)

### Фрагментаøиā

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/10.JPG)

![img](https://github.com/IlyaGall/C-/blob/main/34%20%D0%91%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20NoSQL%20%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B8%20%D0%B8%D1%85%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8/IMG/11.JPG)













































































